// Backbone.Syphon, v0.2.0-pre
// Copyright (c)2012 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
// http://github.com/derickbailey/backbone.syphon
Backbone.Syphon=function(a,b,c){var d={};d.ignoredTypes=["button","submit","reset"],d.serialize=function(a){var g={},h=e(a,d.ignoredTypes);return c.each(h,function(a){var c=b(a),e=f(c),h=d.InputReaders.get(e),i=h(c),j=d.KeyExtractors.get(e),k=j(c);g[k]=i}),g},d.InputReaderSet=function(){this.readers={}},c.extend(d.InputReaderSet.prototype,{get:function(a){var b=this.readers[a.toLowerCase()];return b||(b=this.readers["default"]),b},register:function(a,b){this.readers[a.toLowerCase()]=b},registerDefault:function(a){this.readers["default"]=a},unregister:function(a){delete this.readers[a]}}),d.KeyExtractorSet=function(){this.extractors={}},c.extend(d.KeyExtractorSet.prototype,{registerDefault:function(a){this.extractors["default"]=a},register:function(a,b){this.extractors[a]=b},get:function(a){var b=this.extractors[a];return b||(b=this.extractors["default"]),b}}),d.KeyExtractors=new d.KeyExtractorSet,d.KeyExtractors.registerDefault(function(a){return a.prop("id")}),d.InputReaders=new d.InputReaderSet,d.InputReaders.registerDefault(function(a){return a.val()}),d.InputReaders.register("checkbox",function(a){var b=a.prop("checked");return b});var e=function(a,b){var d=a.$("form")[0],e=d.elements;return e=c.reject(e,function(a){var d=f(a),e=c.include(b,d);return e}),e},f=function(a){var c,d=b(a),e=d[0].tagName,f=e;return e.toLowerCase()==="input"&&(c=d.attr("type"),c?f=c:f="text"),f.toLowerCase()};return d}(Backbone,jQuery,_);